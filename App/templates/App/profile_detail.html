<!-- App/templates/App/profile_detail.html -->

{% extends 'app/base2.html' %}
{% block content %}
<!-- Display Django messages (e.g., from contribute view) -->
{% if messages %}
  <div class="messages">
    {% for message in messages %}
      <div class="alert alert-{{ message.tags }}">
        {{ message }}
      </div>
    {% endfor %}
  </div>
{% endif %}

    <h2>{{ user.username }} Profile Details</h2>
    <p>Username: {{ user.username }}</p>
    <p>First name: {{ user.first_name }}</p>
    <p>Last name: {{ user.last_name }}</p>
    <p>Email: {{ user.email }}</p>
    <p>Last login: {{ user.last_login }}</p>
    <p>Is superuser: {% if user.is_superuser %} Yes {% else %} No {% endif %}</p>
    <p>Is staff: {% if user.is_staff %} Yes {% else %} No {% endif %}</p>
    <p>Is active: {% if user.is_active %} Yes {% else %} No {% endif %}</p>
    <p>Date joined: {{ user.date_joined }}</p>
    <p>Phone Number: {{ user.profile.phoneNumber }}</p>
    <p>Location: {{ user.profile.location }}</p>


<!-- Account verification status -->
{% if not user.profile.is_verified %}
    <div class="alert alert-warning mt-3">
        <p>Your account is not verified. Please verify your account to contribute resources or post alerts.</p>
        <form method="post" action="{% url 'request_verification' %}">
            {% csrf_token %}
            <button type="submit" class="btn btn-warning">Request Verification</button>
        </form>
    </div>
{% else %}
    <p class="text-success mt-3">Your account is verified âœ…</p>
{% endif %}

    <a href="{% url 'edit_profile' %}" class="btn btn-primary">Edit Profile</a>
    <a href="{% url 'password_change' %}" class="btn btn-primary">Change Password</a>

    {% include './footer.html' %}

{% endblock %}
